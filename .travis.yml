language: python
python:
  - "3.8"

install:
  - pip install setuptools==59.6.0
  - pip install awsebcli
  - pip install -r requirements.txt


script:
  - black --check .
  - flake8 .
  - coverage run manage.py test

after_scripts:
- coveralls

deploy:
  provider: elasticbeanstalk
  region: us-east-1
  app: ebdjango
  env: django-env
  bucket_name: elasticbeanstalk-us-east-1-216989136265
  on:
    branch: master
  skip_cleanup: 'true'

